import{r as d,j as e,X as S,I as R,T as H,C as Z,a as K,b as X,u as O,c as Q,R as ee,d as te,U as se,e as I,f as Y,g as re,H as ae,L as ie,S as ne,h as le,i as $,Z as M,k as oe,W as P,l as ce,m as de,n as ue,o as me,p as E,D as xe,q as he,s as ge,t as pe,v as fe,w as be,G as we,x as ye}from"./vendor-react-BasldV0F.js";import{c as T}from"./vendor-supabase-2p6XB-mb.js";import{o as ve,d as je}from"./vendor-clerk-714666yM.js";import{u as Ne}from"./vendor-router-DAh876Pn.js";const W=d.createContext(void 0),He=({children:t})=>{const[s,i]=d.useState([]),a=d.useCallback(()=>`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),l=d.useCallback(n=>{i(m=>m.filter(r=>r.id!==n))},[]),o=d.useCallback(n=>{const m=a(),r={id:m,duration:5e3,...n};return i(y=>[...y,r]),r.duration&&r.duration>0&&setTimeout(()=>{l(m)},r.duration),m},[a,l]),c=d.useCallback(()=>{i([])},[]),x=d.useCallback((n,m,r)=>o({type:"success",title:n,message:m,...r}),[o]),u=d.useCallback((n,m,r)=>o({type:"error",title:n,message:m,duration:7e3,...r}),[o]),w=d.useCallback((n,m,r)=>o({type:"warning",title:n,message:m,duration:6e3,...r}),[o]),f=d.useCallback((n,m,r)=>o({type:"info",title:n,message:m,...r}),[o]),b={toasts:s,addToast:o,removeToast:l,clearAllToasts:c,showSuccess:x,showError:u,showWarning:w,showInfo:f};return e.jsx(W.Provider,{value:b,children:t})},A=()=>{const t=d.useContext(W);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Ce=({toast:t,onRemove:s})=>{const[i,a]=d.useState(!1),[l,o]=d.useState(!1);d.useEffect(()=>{const n=setTimeout(()=>a(!0),50);return()=>clearTimeout(n)},[]);const c=()=>{o(!0),setTimeout(()=>s(t.id),300)},[x,u]=d.useState(100);d.useEffect(()=>{if(!t.duration||t.duration<=0)return;const n=setInterval(()=>{u(m=>{const r=100/t.duration*100;return Math.max(0,m-r)})},100);return()=>clearInterval(n)},[t.duration]);const w=()=>{const n="relative overflow-hidden glass border-l-4";switch(t.type){case"success":return`${n} border-green-500 bg-green-500/10`;case"error":return`${n} border-red-500 bg-red-500/10`;case"warning":return`${n} border-yellow-500 bg-yellow-500/10`;case"info":return`${n} border-blue-500 bg-blue-500/10`;default:return`${n} border-gray-500 bg-gray-500/10`}},f=()=>{const n="w-5 h-5";switch(t.type){case"success":return e.jsx(K,{className:`${n} text-green-400`});case"error":return e.jsx(Z,{className:`${n} text-red-400`});case"warning":return e.jsx(H,{className:`${n} text-yellow-400`});case"info":return e.jsx(R,{className:`${n} text-blue-400`});default:return e.jsx(R,{className:`${n} text-gray-400`})}},b=()=>{switch(t.type){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":return"bg-blue-500";default:return"bg-gray-500"}};return e.jsxs("div",{className:`
        rounded-xl p-4 max-w-sm w-full transition-all duration-300 transform
        ${w()}
        ${i&&!l?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,role:"alert","aria-live":"polite",children:[t.duration&&t.duration>0&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-white/10",children:e.jsx("div",{className:`h-full transition-all duration-100 linear ${b()}`,style:{width:`${x}%`}})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-white font-medium text-sm leading-5",children:t.title}),t.message&&e.jsx("p",{className:"text-gray-300 text-sm mt-1 leading-5",children:t.message}),t.action&&e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:t.action.onClick,className:"text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors duration-200",children:t.action.label})})]}),e.jsx("button",{onClick:c,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors duration-200 p-1 rounded-lg hover:bg-white/10","aria-label":"Close notification",children:e.jsx(S,{className:"w-4 h-4"})})]})]})},Oe=()=>{const{toasts:t,removeToast:s}=A(),i=e.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-3 pointer-events-none",children:t.map(a=>e.jsx("div",{className:"pointer-events-auto",children:e.jsx(Ce,{toast:a,onRemove:s})},a.id))});return t.length===0||typeof document>"u"?null:X.createPortal(i,document.body)},F="pk_test_YWJsZS1saW9uLTI5LmNsZXJrLmFjY291bnRzLmRldiQ",G=()=>!F.includes("YOUR_CLERK_PUBLISHABLE_KEY")&&F.startsWith("pk_"),L=G()?new ve(F):null,q=async()=>{try{const t=window?.Clerk;if(t?.session){const s=await t.session.getToken({template:"supabase"});if(s)return s}if(L?.session){const s=await L.session.getToken({template:"supabase"});if(s)return s}return null}catch{return null}},N="https://dxljyzvwolnbdreewbvs.supabase.co",C="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR4bGp5enZ3b2xuYmRyZWV3YnZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyNTY0OTksImV4cCI6MjA3MjgzMjQ5OX0.hzNFBkxNMS6BwToieigRze1GEq_OSpzrXJpH92o0ouU",U=()=>!N.includes("YOUR_SUPABASE_URL")&&!C.includes("YOUR_SUPABASE_ANON_KEY")&&!N.includes("API_KEY_ADDED"),ke=()=>U()?T(N,C,{global:{fetch:async(t,s={})=>{const i=await q();s.headers={apikey:C,...s.headers};const a=t.toString();if(a.includes("/rest/v1/"))(s.headers||{})["Content-Type"]||(s.headers={...s.headers,"Content-Type":"application/json"});else if(a.includes("/storage/v1/object/")){const l=s.headers||{};s.body&&!l["Content-Type"]&&(s.headers={...s.headers,"Content-Type":"application/json"})}if(i?(s.headers={...s.headers,Authorization:`Bearer ${i}`},console.log("Supabase request with token:",i.substring(0,50)+"...")):console.warn("No Clerk token available for Supabase request"),a.includes("/storage/v1/object/")&&console.log("Storage API request:",{url:a,method:s.method,headers:s.headers,body:s.body}),a.includes("/storage/v1/object/")&&s.body)try{if(typeof s.body=="string"){const l=JSON.parse(s.body);s.body=JSON.stringify(l)}}catch(l){console.warn("Failed to parse storage request body:",l)}return fetch(t,s)}}}):null,Ye=ke(),Se=()=>U()?T(N,C):null,D=Se(),Me=async()=>{if(!D)return null;const t=await q();return console.log("Getting authenticated storage client, token available:",!!t),t?T(N,C,{global:{headers:{Authorization:`Bearer ${t}`}}}):D},We=t=>t?.id||null,Ie=t=>t?.emailAddresses?.[0]?.emailAddress||void 0,Ee=t=>t?.fullName||void 0,Ae=t=>t?.imageUrl||void 0,J=()=>{const{user:t,isLoaded:s,isSignedIn:i}=O(),a=Q(),[l,o]=d.useState(!0),[c,x]=d.useState(!1),u=t?{id:t.id,emailAddresses:t.emailAddresses.map(h=>({emailAddress:h.emailAddress})),firstName:t.firstName,lastName:t.lastName,imageUrl:t.imageUrl,fullName:t.fullName}:null;return d.useEffect(()=>{const h=G()&&U();x(h),s&&o(!1)},[s]),{user:u,loading:l||!s,isConfigured:c,isSignedIn:!!i,signIn:async(h,g)=>{if(!c)throw new Error("Authentication not configured");try{const p=await a.client.signIn.create({identifier:h,password:g});if(p.status==="complete")return await a.setActive({session:p.createdSessionId}),{user:p};throw new Error("Sign in incomplete")}catch(p){throw new Error(p.message||"Sign in failed")}},signUp:async(h,g,p)=>{if(!c)throw new Error("Authentication not configured");try{const[v,...k]=(p||"").split(" "),V=k.join(" "),B=await a.client.signUp.create({emailAddress:h,password:g,firstName:v||void 0,lastName:V||void 0});return await B.prepareEmailAddressVerification({strategy:"email_code"}),{user:B,needsVerification:!0}}catch(v){throw new Error(v.message||"Sign up failed")}},signOut:async()=>{if(c)try{await a.signOut(),(window.location.pathname.startsWith("/sign-")||window.location.pathname.startsWith("/factor"))&&window.history.replaceState(null,"","/")}catch(h){throw new Error(h.message||"Sign out failed")}},resetPassword:async h=>{if(!c)throw new Error("Authentication not configured");try{await a.client.signIn.create({identifier:h,strategy:"reset_password_email_code"})}catch(g){throw new Error(g.message||"Password reset failed")}},updateProfile:async h=>{if(!c)throw new Error("Authentication not configured");if(!u)throw new Error("No user logged in");try{const g={};if(h.full_name){const[p,...v]=h.full_name.split(" ");g.firstName=p,g.lastName=v.join(" ")}return await t?.update(g),{user:t}}catch(g){throw new Error(g.message||"Profile update failed")}},updateProfileImage:async h=>{if(!c)throw new Error("Authentication not configured");if(!a.user)throw new Error("No user logged in");try{return await a.user.setProfileImage({file:h}),{user:a.user}}catch(g){throw new Error(g.message||"Profile image update failed")}},updateEmail:async(h,g)=>{if(!c)throw new Error("Authentication not configured");if(!u)throw new Error("No user logged in");try{if(g){const v=t?.emailAddresses?.[0]?.emailAddress;if(!v)throw new Error("Current email not found");const k=await a.client.signIn.create({identifier:v,password:g});if(k.status==="complete")await a.setActive({session:k.createdSessionId});else throw new Error("Re-authentication failed")}const p=await t?.createEmailAddress({email:h});if(!p)throw new Error("Failed to create new email address");return await p.prepareVerification({strategy:"email_code"}),{user:t}}catch(p){throw new Error(p.message||"Email update failed")}},verifyEmailUpdate:async(h,g)=>{if(!c)throw new Error("Authentication not configured");if(!t)throw new Error("No user logged in");try{const p=t.emailAddresses.find(v=>v.emailAddress===h);if(!p)throw new Error("New email not found on account");return await p.attemptVerification({code:g}),await t.update({primaryEmailAddressId:p.id}),{user:t}}catch(p){throw new Error(p.message||"Email verification failed")}},updatePassword:async h=>{if(!c)throw new Error("Authentication not configured");if(!u)throw new Error("No user logged in");try{return await t?.updatePassword({newPassword:h}),{user:t}}catch(g){throw new Error(g.message||"Password update failed")}}}},_=({imageUrl:t,fullName:s,email:i,size:a="md",editable:l=!1,onImageChange:o,loading:c=!1})=>{const[x,u]=d.useState(!1),f={sm:{container:"w-8 h-8",icon:"w-3 h-3",text:"text-xs"},md:{container:"w-12 h-12",icon:"w-5 h-5",text:"text-sm"},lg:{container:"w-20 h-20",icon:"w-8 h-8",text:"text-lg"},xl:{container:"w-32 h-32",icon:"w-12 h-12",text:"text-2xl"}}[a],b=()=>s?s.split(" ").map(y=>y.charAt(0).toUpperCase()).slice(0,2).join(""):i?i.charAt(0).toUpperCase():"U",n=y=>{const j=y.target.files?.[0];if(j&&o){if(!j.type.startsWith("image/")||j.size>5*1024*1024)return;o(j)}},m=()=>{u(!0)};ee.useEffect(()=>{u(!1)},[t]);const r=()=>{if(c)return e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("div",{className:"animate-spin rounded-full border-2 border-white/30 border-t-white w-1/2 h-1/2"})});if(t&&!x)return e.jsx("img",{src:t,alt:s||"Profile",onError:m,className:"w-full h-full object-cover"});const y=b();return y&&y!=="U"?e.jsx("span",{className:`font-semibold text-white ${f.text}`,children:y}):e.jsx(I,{className:`text-white ${f.icon}`})};return l?e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`
          ${f.container} 
          rounded-full 
          bg-gradient-to-r from-blue-500 to-purple-600 
          flex items-center justify-center 
          overflow-hidden 
          border-2 border-white/20
          cursor-pointer
          group
          hover:scale-105
          transition-all duration-200
        `,children:[r(),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:e.jsx(te,{className:"w-1/3 h-1/3 text-white"})})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:n,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:c}),l&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(se,{className:"w-3 h-3 text-white"})})]}):e.jsx("div",{className:`
      ${f.container} 
      rounded-full 
      bg-gradient-to-r from-blue-500 to-purple-600 
      flex items-center justify-center 
      overflow-hidden 
      border-2 border-white/20
    `,children:r()})},Pe=({onShowAuth:t})=>{const[s,i]=d.useState(!1),{user:a,signOut:l,isConfigured:o}=J(),{showSuccess:c,showError:x}=A(),u=Ne(),w=async()=>{try{await l(),i(!1),c("Signed Out Successfully","You have been signed out of your account.")}catch{x("Sign Out Failed","An error occurred while signing out. Please try again.")}},f=()=>{u("/my-images"),i(!1)},b=()=>{u("/profile"),i(!1)},n=()=>{a||t()};if(!o)return e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:t,className:"glass glass-hover rounded-xl px-4 py-2 flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-all duration-300",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Connect Auth"})]})});if(!a)return e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:n,className:"glass glass-hover rounded-xl px-4 py-2 flex items-center gap-2 text-blue-400 hover:text-blue-300 transition-all duration-300",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})});const m=Ee(a),r=Ie(a),y=Ae(a);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!s),className:"glass glass-hover rounded-xl px-4 py-2 flex items-center gap-2 text-white hover:text-blue-300 transition-all duration-300",children:[e.jsx(_,{imageUrl:y,fullName:m,email:r,size:"sm"}),e.jsx("span",{className:"hidden sm:inline text-sm",children:m||r?.split("@")[0]||"User"}),e.jsx(Y,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 glass rounded-xl border border-white/20 z-20",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"px-3 py-3 border-b border-white/10 mb-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{imageUrl:y,fullName:m,email:r,size:"md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-white font-medium truncate",children:m||"User"}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:r})]})]})}),e.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:[e.jsx(re,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:[e.jsx(ae,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"My Images"})]}),e.jsx("hr",{className:"border-white/10 my-2"}),e.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all duration-200",children:[e.jsx(ie,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Sign Out"})]})]})})]})]})},z={baseTheme:je.dark,elements:{formButtonPrimary:"bg-blue-600 hover:bg-blue-700 text-white transition-colors",card:"bg-gray-900 border-gray-700 shadow-2xl",headerTitle:"text-white font-bold",headerSubtitle:"text-gray-300",socialButtonsBlockButton:"bg-gray-800 border-gray-600 text-white hover:bg-gray-700 transition-colors",socialButtonsBlockButtonText:"text-white",formFieldInput:"bg-gray-800 border-gray-600 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",formFieldLabel:"text-gray-300 font-medium",identityPreviewText:"text-gray-300",formFieldHintText:"text-gray-400 text-sm",formFieldErrorText:"text-red-400 text-sm",footerActionText:"text-gray-300",footerActionLink:"text-blue-400 hover:text-blue-300 transition-colors",dividerLine:"bg-gray-600",dividerText:"text-gray-400",formResendCodeLink:"text-blue-400 hover:text-blue-300 transition-colors",otpCodeFieldInput:"bg-gray-800 border-gray-600 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors",formHeaderTitle:"text-white font-bold",formHeaderSubtitle:"text-gray-300",alertText:"text-gray-300",formFieldSuccessText:"text-green-400 text-sm",formFieldWarningText:"text-yellow-400 text-sm",formFieldInputShowPasswordButton:"text-gray-400 hover:text-gray-300 transition-colors",formFieldInputShowPasswordIcon:"text-gray-400",formFieldInputHidePasswordIcon:"text-gray-400",formFieldInputShowPasswordButtonHover:"text-gray-300",formFieldInputShowPasswordButtonActive:"text-gray-200",formFieldInputShowPasswordButtonFocus:"text-gray-200",formFieldInputShowPasswordButtonDisabled:"text-gray-500",formFieldInputShowPasswordButtonHoverDisabled:"text-gray-500",formFieldInputShowPasswordButtonActiveDisabled:"text-gray-500",formFieldInputShowPasswordButtonFocusDisabled:"text-gray-500",formFieldInputShowPasswordButtonHoverActive:"text-gray-200",formFieldInputShowPasswordButtonHoverFocus:"text-gray-200",formFieldInputShowPasswordButtonActiveFocus:"text-gray-200",formFieldInputShowPasswordButtonHoverActiveFocus:"text-gray-200",formFieldInputShowPasswordButtonHoverActiveDisabled:"text-gray-500",formFieldInputShowPasswordButtonHoverFocusDisabled:"text-gray-500",formFieldInputShowPasswordButtonActiveFocusDisabled:"text-gray-500",formFieldInputShowPasswordButtonHoverActiveFocusDisabled:"text-gray-500"}},Fe=({isOpen:t,onClose:s,initialMode:i="signin"})=>{const[a,l]=d.useState(i),{user:o}=O(),{isConfigured:c}=J(),{showSuccess:x}=A();return d.useEffect(()=>{o&&t&&(x("Welcome!","You have successfully signed in to your account."),s())},[o,t,s,x]),d.useEffect(()=>{t&&l(i)},[t,i]),d.useEffect(()=>{if(!t)return;const u=w=>{const b=w.detail||"";b.includes("sign-up")&&l("signup"),b.includes("sign-in")&&l("signin")};return window.addEventListener("clerk:navigate",u),()=>window.removeEventListener("clerk:navigate",u)},[t]),d.useEffect(()=>{!t&&(window.location.pathname.startsWith("/sign-")||window.location.pathname.startsWith("/factor"))&&window.history.replaceState(null,"","/")},[t]),d.useEffect(()=>{if(!t)return;const u=a==="signup"?"/sign-up":"/sign-in";window.location.pathname!==u&&window.history.replaceState(null,"",u)},[t,a]),t?c?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 z-10 text-gray-400 hover:text-white transition-colors bg-black/20 rounded-full p-2",children:e.jsx(S,{className:"w-5 h-5"})}),a==="signin"?e.jsx(ne,{path:"/sign-in",signUpUrl:"/sign-up",afterSignInUrl:"/",redirectUrl:"/",routing:"path",appearance:z}):e.jsx(le,{path:"/sign-up",signInUrl:"/sign-in",afterSignUpUrl:"/",redirectUrl:"/",routing:"path",appearance:z})]})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Authentication Required"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(S,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(I,{className:"w-8 h-8 text-yellow-400"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Clerk Configuration Required"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"To enable user authentication, please configure your Clerk project and add the publishable key to your environment variables."}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:e.jsx("code",{className:"text-green-400 text-sm",children:"VITE_CLERK_PUBLISHABLE_KEY=pk_test_..."})}),e.jsx("button",{onClick:s,className:"bg-gray-700 hover:bg-gray-600 rounded-xl px-6 py-3 text-blue-400 font-medium transition-all duration-300",children:"Close"})]})]})}):null},Ge=()=>{const[t,s]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"relative py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex justify-end mb-8",children:e.jsx(Pe,{onShowAuth:()=>s(!0)})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full blur opacity-75 pulse-glow"}),e.jsx("div",{className:"relative glass rounded-full p-3",children:e.jsx($,{className:"w-8 h-8 text-blue-400"})})]})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:e.jsx("span",{className:"gradient-text",children:"Free AI Image Generator"})}),e.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-6 max-w-2xl mx-auto",children:"Transform your imagination into stunning visuals with completely free AI image generation. No API keys, no limits, no costs - just pure creativity unleashed!"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{children:"Lightning Fast"})]}),e.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Unlimited Free"})]}),e.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{children:"High Quality"})]})]})]})]})}),e.jsx(Fe,{isOpen:t,onClose:()=>s(!1)})]})},qe=({onGenerate:t,isGenerating:s})=>{const[i,a]=d.useState(""),[l,o]=d.useState("vivid"),[c,x]=d.useState("1:1"),[u,w]=d.useState(!1),f=r=>{r.preventDefault(),i.trim()&&!s&&t(i.trim(),l,c)},b=["A serene mountain landscape at sunset","Cyberpunk city with neon lights","Magical forest with glowing mushrooms","Futuristic spaceship in deep space","Abstract geometric art in vibrant colors","Cozy cottage in a snowy winter scene","Majestic dragon soaring through clouds","Underwater coral reef with tropical fish"],n=[{value:"1:1",label:"Square",ratio:"1:1",description:"Perfect for social media posts",icon:"⬜",dimensions:"1024×1024"},{value:"16:9",label:"Landscape",ratio:"16:9",description:"Great for wallpapers and presentations",icon:"🖥️",dimensions:"1024×576"},{value:"4:3",label:"Classic",ratio:"4:3",description:"Traditional photo format",icon:"📷",dimensions:"1024×768"}],m=[{value:"vivid",label:"Vivid",icon:"✨",description:"Dramatic lighting, vibrant colors, and high detail"},{value:"natural",label:"Natural",icon:"🌿",description:"More natural, realistic images with soft colors"}];return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-12",children:[e.jsx("div",{className:"glass rounded-2xl p-4 mb-6 border-l-4 border-green-500",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-200 font-medium",children:"100% Free AI Generation"}),e.jsx("p",{className:"text-green-300 text-sm",children:"Powered by Pollinations AI - No API keys required, unlimited usage!"})]})]})}),e.jsx("form",{onSubmit:f,className:"relative",children:e.jsxs("div",{className:"glass rounded-2xl p-1",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(P,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:i,onChange:r=>a(r.target.value),placeholder:"Describe the image you want to generate...",className:"w-full pl-12 pr-4 py-4 bg-transparent text-white placeholder-gray-400 text-lg focus:outline-none",disabled:s})]}),e.jsxs("button",{type:"button",onClick:()=>w(!u),className:`glass-hover rounded-xl p-4 transition-all duration-300 relative ${u?"text-blue-400 bg-blue-500/20 shadow-lg shadow-blue-500/25":"text-gray-400 hover:text-white"}`,title:"Settings",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),u?e.jsx(de,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})]}),u&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full"})]}),e.jsxs("button",{type:"submit",disabled:!i.trim()||s,className:"glass-hover rounded-xl px-6 py-4 flex items-center gap-2 text-white font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center gap-2",children:[s?e.jsx(ue,{className:"w-5 h-5 animate-spin"}):e.jsx(me,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:s?"Generating...":"Generate"})]})]})]}),u&&e.jsx("div",{className:"border-t border-white/20 bg-gray-800/30 backdrop-blur-sm",children:e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Generation Settings"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Customize your AI image generation"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-base text-white mb-4 font-semibold flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-blue-400"}),"Choose Aspect Ratio"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(r=>e.jsxs("button",{type:"button",onClick:()=>x(r.value),className:`relative p-4 rounded-xl text-left transition-all duration-300 transform hover:scale-105 ${c===r.value?"bg-gradient-to-br from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25 ring-2 ring-blue-400":"glass glass-hover text-gray-300 hover:bg-white/15"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-base",children:r.label}),e.jsx("div",{className:"text-sm opacity-80",children:r.ratio})]})]}),e.jsx("div",{className:"text-xs opacity-75 mb-2",children:r.description}),e.jsxs("div",{className:"text-xs font-mono opacity-60",children:[r.dimensions,"px"]}),c===r.value&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]},r.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-base text-white mb-4 font-semibold flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-purple-400"}),"Generation Style"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(r=>e.jsxs("button",{type:"button",onClick:()=>o(r.value),className:`p-4 rounded-xl text-left transition-all duration-300 transform hover:scale-105 ${l===r.value?"bg-gradient-to-br from-purple-500 to-pink-600 text-white shadow-lg shadow-purple-500/25 ring-2 ring-purple-400":"glass glass-hover text-gray-300 hover:bg-white/15"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-xl",children:r.icon}),e.jsx("div",{className:"font-semibold",children:r.label})]}),e.jsx("div",{className:"text-sm opacity-80",children:r.description})]},r.value))})]}),e.jsxs("div",{className:"glass rounded-xl p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30",children:[e.jsx("div",{className:"text-sm text-blue-300 mb-2 font-medium",children:"Current Configuration:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-gray-300",children:[n.find(r=>r.value===c)?.label," (",c,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-purple-400"}),e.jsxs("span",{className:"text-gray-300",children:[m.find(r=>r.value===l)?.label," Style"]})]})]})]})]})})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3 text-center",children:"✨ Try these creative prompts:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:b.map((r,y)=>e.jsx("button",{onClick:()=>a(r),disabled:s,className:"glass glass-hover rounded-full px-4 py-2 text-sm text-gray-300 transition-all duration-300 hover:text-white disabled:opacity-50",children:r},y))})]})]})},Te=async t=>{if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(t);return}catch{}const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.top="-9999px",s.style.left="-9999px",document.body.appendChild(s),s.focus(),s.select();try{if(!document.execCommand("copy"))throw new Error("execCommand returned false")}catch{throw new Error("Fallback copy method failed.")}finally{document.body.removeChild(s)}},Ue=async(t,s,i,a)=>{try{const l=await fetch(t);if(!l.ok)throw new Error(`Failed to fetch image: ${l.status}`);const o=await l.blob(),c=window.URL.createObjectURL(o),x=document.createElement("a");x.href=c,x.download=s,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(c),i?.()}catch(l){console.error("Download error:",l);try{const o=document.createElement("a");o.href=t,o.download=s,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o),i?.()}catch(o){console.error("Fallback download error:",o),a?.(l)}}},Be=(t="1:1",s,i="jpg")=>{const a=new Date().toISOString().split("T")[0];return`ai-generated-${t}-${s}-${a}.${i}`},Re=({image:t})=>{const[s,i]=d.useState("idle"),[a,l]=d.useState(!1),{showSuccess:o,showError:c}=A(),x=async()=>{if(a)return;l(!0);const n=Be(t.aspectRatio||"1:1",t.id);await Ue(t.url,n,()=>{o("Download Started","Your image is being downloaded.")},m=>{c("Download Failed","Could not download the image. Please try again.")}),l(!1)},u=async()=>{try{await Te(t.prompt),i("success"),o("Prompt Copied!","The image prompt has been copied to your clipboard.")}catch{i("error"),c("Copy Failed","Could not copy the prompt to clipboard. Please try copying manually."),alert(`Could not copy automatically. Please copy this prompt manually:

"${t.prompt}"`)}setTimeout(()=>i("idle"),2e3)},w=n=>new Intl.RelativeTimeFormat("en",{numeric:"auto"}).format(Math.ceil((n.getTime()-Date.now())/(1e3*60)),"minute"),f=n=>{switch(n){case"16:9":return"aspect-video";case"4:3":return"aspect-[4/3]";case"1:1":default:return"aspect-square"}},b=n=>{switch(n){case"16:9":return"Landscape";case"4:3":return"Classic";case"1:1":default:return"Square"}};return t.isLoading?e.jsxs("div",{className:"glass rounded-2xl overflow-hidden floating-animation",children:[e.jsxs("div",{className:`bg-gray-800 relative overflow-hidden ${f(t.aspectRatio)}`,children:[e.jsx("div",{className:"absolute inset-0 shimmer"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Creating your image..."}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[b(t.aspectRatio)," format"]})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-700 rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-3 bg-gray-700 rounded animate-pulse w-2/3"})]})]}):e.jsxs("div",{className:"glass rounded-2xl overflow-hidden group hover:scale-105 transition-all duration-300 floating-animation",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:t.url,alt:t.prompt,className:`w-full object-cover transition-transform duration-300 group-hover:scale-110 ${f(t.aspectRatio)}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-4 left-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"glass rounded-lg px-2 py-1 text-xs text-white border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:t.aspectRatio||"1:1"})]})})}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx("button",{onClick:x,disabled:a,className:`glass glass-hover rounded-full p-2 text-white transition-colors duration-300 ${a?"opacity-50 cursor-not-allowed":"hover:text-blue-400"}`,title:a?"Downloading...":"Download image",children:a?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(xe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:u,className:`glass glass-hover rounded-full p-2 text-white transition-colors duration-300 ${s==="success"?"text-green-400":s==="error"?"text-red-400":"hover:text-green-400"}`,title:s==="success"?"Copied!":s==="error"?"Copy failed":"Copy prompt",children:s==="success"?e.jsx(he,{className:"w-4 h-4"}):e.jsx(ge,{className:"w-4 h-4"})})]}),s!=="idle"&&e.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:`glass rounded-lg px-3 py-1 text-sm ${s==="success"?"text-green-400 border-green-500/30":"text-red-400 border-red-500/30"}`,children:s==="success"?"Copied!":"Failed"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-gray-300 text-sm line-clamp-2 mb-3",children:t.prompt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-3 h-3"}),e.jsx("span",{children:w(t.timestamp)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-400",children:[e.jsx(E,{className:"w-3 h-3"}),e.jsx("span",{children:b(t.aspectRatio)})]})]})]})]})},Je=({images:t})=>t.length===0?e.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center py-16",children:e.jsxs("div",{className:"glass rounded-2xl p-12",children:[e.jsx(fe,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl text-gray-400 mb-2",children:"No images yet"}),e.jsx("p",{className:"text-gray-500",children:"Generate your first AI image by entering a prompt above!"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Your Generated Images"}),e.jsxs("p",{className:"text-gray-400",children:[t.filter(s=>!s.isLoading).length," image",t.filter(s=>!s.isLoading).length!==1?"s":""," generated"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(s=>e.jsx(Re,{image:s},s.id))})]}),Ve=()=>e.jsx("footer",{className:"mt-20 py-8 px-4 border-t border-white/10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("span",{className:"text-gray-400",children:"Made with"}),e.jsx(be,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-gray-400",children:"by Dualite Alpha"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[e.jsx("a",{href:"https://github.com/dumindu2041329",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors duration-300",title:"GitHub",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsx("a",{href:"https://www.linkedin.com/in/dumindu-damsara-0049ab246/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-400 transition-colors duration-300",title:"LinkedIn",children:e.jsx(ye,{className:"w-5 h-5"})})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["© ",new Date().getFullYear()," AI Image Generator. All rights reserved."]})]})}),Ze=({isOpen:t,title:s,message:i,confirmText:a="Confirm",cancelText:l="Cancel",onConfirm:o,onCancel:c,variant:x="danger"})=>{if(!t)return null;const w={danger:{icon:"text-red-400",iconBg:"bg-red-500/20",confirmBtn:"bg-red-500 hover:bg-red-600 text-white",border:"border-red-500/20"},warning:{icon:"text-yellow-400",iconBg:"bg-yellow-500/20",confirmBtn:"bg-yellow-500 hover:bg-yellow-600 text-white",border:"border-yellow-500/20"},info:{icon:"text-blue-400",iconBg:"bg-blue-500/20",confirmBtn:"bg-blue-500 hover:bg-blue-600 text-white",border:"border-blue-500/20"}}[x],f=b=>{b.target===b.currentTarget&&c()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:f,children:e.jsxs("div",{className:`glass rounded-2xl p-6 max-w-md w-full border ${w.border} transform transition-all duration-200 scale-100`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:`rounded-full p-2 ${w.iconBg}`,children:e.jsx(H,{className:`w-6 h-6 ${w.icon}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:s}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:i})]}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white transition-colors p-1 rounded-lg hover:bg-white/10",children:e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-300 hover:text-white glass glass-hover rounded-xl transition-all duration-200",children:l}),e.jsx("button",{onClick:o,className:`px-6 py-2 rounded-xl font-medium transition-all duration-200 ${w.confirmBtn}`,children:a})]})]})})};export{Ze as C,Ve as F,Ge as H,Je as I,qe as P,He as T,A as a,Me as b,Ie as c,Ee as d,Ae as e,_ as f,We as g,F as h,Oe as i,Ye as s,J as u};
